// ===== Translations =====
var translations = {
    en: {
        businessName: "Alkuthami Est.",
        navAbout: "About",
        navServices: "Services",
        navCredentials: "Credentials",
        navContact: "Contact",
        heroBadge: "Licensed & Verified Business",
        heroLabel: "Establishment",
        heroFullName: "Abdulaziz Mofleh Alkuthami",
        heroTagline: "Trusted retail & general services rooted in Jeddah, serving the Kingdom with integrity and professionalism.",
        heroCTA: "Get in Touch",
        heroLearn: "Learn More",
        heroCR: "CR Number",
        heroLocVal: "Jeddah, KSA",
        heroLocLabel: "Headquarters",
        heroEstLabel: "Established",
        aboutLabel: "Who We Are",
        aboutTitle: "Built on Trust,<br>Driven by Excellence",
        aboutText1: "Abdulaziz Mofleh Alkuthami Establishment is a licensed business based in Jeddah, Saudi Arabia, specializing in retail and general services. Founded by Abdulaziz Mofleh Alkuthami, the establishment is committed to delivering reliable, high-quality services to its clients and partners.",
        aboutText2: "We operate with full transparency and compliance with Saudi commercial regulations, ensuring that every partnership and transaction is built on a foundation of trust and professionalism.",
        aboutCard1: "Fully Licensed",
        aboutCard2: "Saudi Compliant",
        aboutCard3: "Trusted Partners",
        servicesLabel: "What We Do",
        servicesTitle: "Our Services",
        service1Title: "Retail Services",
        service1Desc: "Comprehensive retail solutions tailored to meet market demands with quality and reliability.",
        service2Title: "General Services",
        service2Desc: "A wide range of professional services delivered with dedication and commitment to excellence.",
        service3Title: "Business Partnerships",
        service3Desc: "Building strong, transparent relationships with partners and service providers across the Kingdom.",
        credentialsLabel: "Verification",
        credentialsTitle: "Business Credentials",
        crLabel: "Commercial Registration",
        estLabel: "Established",
        estValue: "28 February 2025",
        locLabel: "Location",
        locValue: "Jeddah, Saudi Arabia",
        typeLabel: "Business Type",
        typeValue: "Retail & General Services",
        contactLabel: "Reach Out",
        contactTitle: "Let\u2019s Connect",
        phoneLabel: "Phone",
        emailLabel: "Email",
        whatsappLabel: "WhatsApp",
        locationLabel: "Location",
        locationValue: "Jeddah, Saudi Arabia",
        footerBrand: "Alkuthami Establishment",
        footerCopy: "\u00a9 2025 Abdulaziz Mofleh Alkuthami Establishment. All rights reserved.",
        footerCR: "Commercial Registration",
        langToggle: "\u0627\u0644\u0639\u0631\u0628\u064a\u0629"
    },
    ar: {
        businessName: "\u0645\u0624\u0633\u0633\u0629 \u0627\u0644\u0642\u062b\u0627\u0645\u064a",
        navAbout: "\u0639\u0646\u0627",
        navServices: "\u062e\u062f\u0645\u0627\u062a\u0646\u0627",
        navCredentials: "\u0628\u064a\u0627\u0646\u0627\u062a\u0646\u0627",
        navContact: "\u062a\u0648\u0627\u0635\u0644 \u0645\u0639\u0646\u0627",
        heroBadge: "\u0645\u0646\u0634\u0623\u0629 \u0645\u0631\u062e\u0635\u0629 \u0648\u0645\u0648\u062b\u0642\u0629",
        heroLabel: "\u0645\u0624\u0633\u0633\u0629",
        heroFullName: "\u0639\u0628\u062f\u0627\u0644\u0639\u0632\u064a\u0632 \u0645\u0641\u0644\u062d \u0627\u0644\u0642\u062b\u0627\u0645\u064a",
        heroTagline: "\u062e\u062f\u0645\u0627\u062a \u062a\u062c\u0632\u0626\u0629 \u0648\u062e\u062f\u0645\u0627\u062a \u0639\u0627\u0645\u0629 \u0645\u0648\u062b\u0648\u0642\u0629 \u0645\u0646 \u0642\u0644\u0628 \u062c\u062f\u0629\u060c \u0646\u062e\u062f\u0645 \u0627\u0644\u0645\u0645\u0644\u0643\u0629 \u0628\u0646\u0632\u0627\u0647\u0629 \u0648\u0627\u062d\u062a\u0631\u0627\u0641\u064a\u0629.",
        heroCTA: "\u062a\u0648\u0627\u0635\u0644 \u0645\u0639\u0646\u0627",
        heroLearn: "\u0627\u0639\u0631\u0641 \u0627\u0644\u0645\u0632\u064a\u062f",
        heroCR: "\u0631\u0642\u0645 \u0627\u0644\u0633\u062c\u0644",
        heroLocVal: "\u062c\u062f\u0629\u060c \u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629",
        heroLocLabel: "\u0627\u0644\u0645\u0642\u0631 \u0627\u0644\u0631\u0626\u064a\u0633\u064a",
        heroEstLabel: "\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u0623\u0633\u064a\u0633",
        aboutLabel: "\u0645\u0646 \u0646\u062d\u0646",
        aboutTitle: "\u0645\u0628\u0646\u064a\u0629 \u0639\u0644\u0649 \u0627\u0644\u062b\u0642\u0629\u060c<br>\u0645\u062f\u0641\u0648\u0639\u0629 \u0628\u0627\u0644\u062a\u0645\u064a\u0632",
        aboutText1: "\u0645\u0624\u0633\u0633\u0629 \u0639\u0628\u062f\u0627\u0644\u0639\u0632\u064a\u0632 \u0645\u0641\u0644\u062d \u0627\u0644\u0642\u062b\u0627\u0645\u064a \u0647\u064a \u0645\u0646\u0634\u0623\u0629 \u0645\u0631\u062e\u0635\u0629 \u0645\u0642\u0631\u0647\u0627 \u062c\u062f\u0629\u060c \u0627\u0644\u0645\u0645\u0644\u0643\u0629 \u0627\u0644\u0639\u0631\u0628\u064a\u0629 \u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629\u060c \u0645\u062a\u062e\u0635\u0635\u0629 \u0641\u064a \u062e\u062f\u0645\u0627\u062a \u0627\u0644\u062a\u062c\u0632\u0626\u0629 \u0648\u0627\u0644\u062e\u062f\u0645\u0627\u062a \u0627\u0644\u0639\u0627\u0645\u0629. \u0623\u0633\u0633\u0647\u0627 \u0639\u0628\u062f\u0627\u0644\u0639\u0632\u064a\u0632 \u0645\u0641\u0644\u062d \u0627\u0644\u0642\u062b\u0627\u0645\u064a\u060c \u0648\u062a\u0644\u062a\u0632\u0645 \u0627\u0644\u0645\u0624\u0633\u0633\u0629 \u0628\u062a\u0642\u062f\u064a\u0645 \u062e\u062f\u0645\u0627\u062a \u0645\u0648\u062b\u0648\u0642\u0629 \u0648\u0639\u0627\u0644\u064a\u0629 \u0627\u0644\u062c\u0648\u062f\u0629 \u0644\u0639\u0645\u0644\u0627\u0626\u0647\u0627 \u0648\u0634\u0631\u0643\u0627\u0626\u0647\u0627.",
        aboutText2: "\u0646\u0639\u0645\u0644 \u0628\u0634\u0641\u0627\u0641\u064a\u0629 \u062a\u0627\u0645\u0629 \u0648\u0627\u0644\u062a\u0632\u0627\u0645 \u0643\u0627\u0645\u0644 \u0628\u0627\u0644\u0623\u0646\u0638\u0645\u0629 \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629 \u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629\u060c \u0644\u0636\u0645\u0627\u0646 \u0623\u0646 \u0643\u0644 \u0634\u0631\u0627\u0643\u0629 \u0648\u0645\u0639\u0627\u0645\u0644\u0629 \u0645\u0628\u0646\u064a\u0629 \u0639\u0644\u0649 \u0623\u0633\u0627\u0633 \u0645\u0646 \u0627\u0644\u062b\u0642\u0629 \u0648\u0627\u0644\u0627\u062d\u062a\u0631\u0627\u0641\u064a\u0629.",
        aboutCard1: "\u0645\u0631\u062e\u0635\u0629 \u0628\u0627\u0644\u0643\u0627\u0645\u0644",
        aboutCard2: "\u0645\u062a\u0648\u0627\u0641\u0642\u0629 \u0645\u0639 \u0627\u0644\u0623\u0646\u0638\u0645\u0629",
        aboutCard3: "\u0634\u0631\u0643\u0627\u0621 \u0645\u0648\u062b\u0648\u0642\u0648\u0646",
        servicesLabel: "\u0645\u0627\u0630\u0627 \u0646\u0642\u062f\u0645",
        servicesTitle: "\u062e\u062f\u0645\u0627\u062a\u0646\u0627",
        service1Title: "\u062e\u062f\u0645\u0627\u062a \u0627\u0644\u062a\u062c\u0632\u0626\u0629",
        service1Desc: "\u062d\u0644\u0648\u0644 \u062a\u062c\u0632\u0626\u0629 \u0634\u0627\u0645\u0644\u0629 \u0645\u0635\u0645\u0645\u0629 \u0644\u062a\u0644\u0628\u064a\u0629 \u0645\u062a\u0637\u0644\u0628\u0627\u062a \u0627\u0644\u0633\u0648\u0642 \u0628\u062c\u0648\u062f\u0629 \u0648\u0645\u0648\u062b\u0648\u0642\u064a\u0629.",
        service2Title: "\u0627\u0644\u062e\u062f\u0645\u0627\u062a \u0627\u0644\u0639\u0627\u0645\u0629",
        service2Desc: "\u0645\u062c\u0645\u0648\u0639\u0629 \u0648\u0627\u0633\u0639\u0629 \u0645\u0646 \u0627\u0644\u062e\u062f\u0645\u0627\u062a \u0627\u0644\u0645\u0647\u0646\u064a\u0629 \u0627\u0644\u0645\u0642\u062f\u0645\u0629 \u0628\u062a\u0641\u0627\u0646\u064d \u0648\u0627\u0644\u062a\u0632\u0627\u0645 \u0628\u0627\u0644\u062a\u0645\u064a\u0632.",
        service3Title: "\u0627\u0644\u0634\u0631\u0627\u0643\u0627\u062a \u0627\u0644\u062a\u062c\u0627\u0631\u064a\u0629",
        service3Desc: "\u0628\u0646\u0627\u0621 \u0639\u0644\u0627\u0642\u0627\u062a \u0642\u0648\u064a\u0629 \u0648\u0634\u0641\u0627\u0641\u0629 \u0645\u0639 \u0627\u0644\u0634\u0631\u0643\u0627\u0621 \u0648\u0645\u0642\u062f\u0645\u064a \u0627\u0644\u062e\u062f\u0645\u0627\u062a \u0641\u064a \u062c\u0645\u064a\u0639 \u0623\u0646\u062d\u0627\u0621 \u0627\u0644\u0645\u0645\u0644\u0643\u0629.",
        credentialsLabel: "\u0627\u0644\u062a\u0648\u062b\u064a\u0642",
        credentialsTitle: "\u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0624\u0633\u0633\u0629",
        crLabel: "\u0627\u0644\u0633\u062c\u0644 \u0627\u0644\u062a\u062c\u0627\u0631\u064a",
        estLabel: "\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u062a\u0623\u0633\u064a\u0633",
        estValue: "\u0662\u0668 \u0641\u0628\u0631\u0627\u064a\u0631 \u0662\u0660\u0662\u0665",
        locLabel: "\u0627\u0644\u0645\u0648\u0642\u0639",
        locValue: "\u062c\u062f\u0629\u060c \u0627\u0644\u0645\u0645\u0644\u0643\u0629 \u0627\u0644\u0639\u0631\u0628\u064a\u0629 \u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629",
        typeLabel: "\u0646\u0648\u0639 \u0627\u0644\u0646\u0634\u0627\u0637",
        typeValue: "\u062a\u062c\u0632\u0626\u0629 \u0648\u062e\u062f\u0645\u0627\u062a \u0639\u0627\u0645\u0629",
        contactLabel: "\u062a\u0648\u0627\u0635\u0644",
        contactTitle: "\u062f\u0639\u0646\u0627 \u0646\u062a\u0648\u0627\u0635\u0644",
        phoneLabel: "\u0627\u0644\u0647\u0627\u062a\u0641",
        emailLabel: "\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0625\u0644\u0643\u062a\u0631\u0648\u0646\u064a",
        whatsappLabel: "\u0648\u0627\u062a\u0633\u0627\u0628",
        locationLabel: "\u0627\u0644\u0645\u0648\u0642\u0639",
        locationValue: "\u062c\u062f\u0629\u060c \u0627\u0644\u0645\u0645\u0644\u0643\u0629 \u0627\u0644\u0639\u0631\u0628\u064a\u0629 \u0627\u0644\u0633\u0639\u0648\u062f\u064a\u0629",
        footerBrand: "\u0645\u0624\u0633\u0633\u0629 \u0627\u0644\u0642\u062b\u0627\u0645\u064a",
        footerCopy: "\u00a9 \u0662\u0660\u0662\u0665 \u0645\u0624\u0633\u0633\u0629 \u0639\u0628\u062f\u0627\u0644\u0639\u0632\u064a\u0632 \u0645\u0641\u0644\u062d \u0627\u0644\u0642\u062b\u0627\u0645\u064a. \u062c\u0645\u064a\u0639 \u0627\u0644\u062d\u0642\u0648\u0642 \u0645\u062d\u0641\u0648\u0638\u0629.",
        footerCR: "\u0627\u0644\u0633\u062c\u0644 \u0627\u0644\u062a\u062c\u0627\u0631\u064a",
        langToggle: "English"
    }
};

// ===== State =====
// v2: reset old cached preference so Arabic is default
if (!localStorage.getItem("lang_v2")) {
    localStorage.removeItem("lang");
    localStorage.setItem("lang_v2", "1");
}
var currentLang = localStorage.getItem("lang") || "ar";

// ===== Init =====
document.addEventListener("DOMContentLoaded", function () {
    applyLanguage(currentLang);
    initScrollHeader();
    initSmoothScroll();
    initMobileMenu();
    initScrollReveal();

    document.getElementById("langToggle").addEventListener("click", function () {
        currentLang = currentLang === "en" ? "ar" : "en";
        localStorage.setItem("lang", currentLang);
        applyLanguage(currentLang);
    });
});

// ===== Language =====
function applyLanguage(lang) {
    var html = document.documentElement;
    html.lang = lang;
    html.dir = lang === "ar" ? "rtl" : "ltr";

    var t = translations[lang];
    document.querySelectorAll("[data-i18n]").forEach(function (el) {
        var key = el.getAttribute("data-i18n");
        if (t[key] !== undefined) {
            el.innerHTML = t[key];
        }
    });

    document.getElementById("langToggle").querySelector("span").textContent = t.langToggle;

    // Swap logo mark letter
    var mark = lang === "ar" ? "\u0639" : "A";
    document.querySelectorAll(".logo-mark").forEach(function (el) {
        el.textContent = mark;
    });
}

// ===== Header =====
function initScrollHeader() {
    var header = document.getElementById("header");
    window.addEventListener("scroll", function () {
        header.classList.toggle("scrolled", window.scrollY > 10);
    }, { passive: true });
}

// ===== Smooth Scroll =====
function initSmoothScroll() {
    document.querySelectorAll('a[href^="#"]').forEach(function (link) {
        link.addEventListener("click", function (e) {
            var id = this.getAttribute("href");
            if (id === "#") return;
            var target = document.querySelector(id);
            if (target) {
                e.preventDefault();
                target.scrollIntoView({ behavior: "smooth" });
                document.getElementById("navList").classList.remove("open");
                document.getElementById("menuToggle").classList.remove("active");
            }
        });
    });
}

// ===== Mobile Menu =====
function initMobileMenu() {
    var toggle = document.getElementById("menuToggle");
    var navList = document.getElementById("navList");
    toggle.addEventListener("click", function () {
        navList.classList.toggle("open");
        toggle.classList.toggle("active");
    });
}

// ===== Scroll Reveal =====
function initScrollReveal() {
    var elements = document.querySelectorAll("[data-reveal]");

    var observer = new IntersectionObserver(function (entries) {
        entries.forEach(function (entry) {
            if (entry.isIntersecting) {
                entry.target.classList.add("revealed");
                observer.unobserve(entry.target);
            }
        });
    }, {
        threshold: 0.1,
        rootMargin: "0px 0px -40px 0px"
    });

    elements.forEach(function (el) {
        observer.observe(el);
    });
}
